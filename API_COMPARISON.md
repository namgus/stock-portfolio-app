# 국내 주식 API 비교 분석

## 📊 API 옵션 비교표

| 구분 | 공공데이터포털 | 한국투자증권 API | Yahoo Finance (yfinance) | 네이버 금융 크롤링 |
|------|---------------|-----------------|------------------------|-------------------|
| **비용** | ✅ 완전 무료 | ✅ 무료 (계좌 필요) | ✅ 완전 무료 | ✅ 무료 |
| **계좌 필요** | ❌ 불필요 | ✅ 증권계좌 필수 | ❌ 불필요 | ❌ 불필요 |
| **실시간 데이터** | ⚠️ 일 1회 갱신 | ✅ 실시간 (WebSocket) | ⚠️ 15분 지연 | ⚠️ 크롤링 속도 제한 |
| **API 호출 제한** | 10,000회/일 | 제한 있음 (트래픽 확장 가능) | 제한 있음 (Rate Limit) | 크롤링 속도 제한 |
| **설정 난이도** | ⭐ 쉬움 | ⭐⭐⭐ 어려움 (계좌 개설) | ⭐ 쉬움 | ⭐⭐ 중간 |
| **데이터 신뢰성** | ✅ 공식 데이터 | ✅ 공식 데이터 | ✅ 공식 데이터 | ⚠️ 웹페이지 구조 변경 시 문제 |
| **CORS 문제** | ⚠️ 발생 가능 | ⚠️ 발생 가능 | ⚠️ 발생 가능 | ❌ 직접 크롤링 불가 (백엔드 필요) |
| **제공 데이터** | 시세, 거래량, 시가총액 | 시세, 호가, 체결, 주문 | 시세, 재무제표, 뉴스 | 시세, 재무제표, 뉴스 |
| **주문 기능** | ❌ 없음 | ✅ 실제 주문 가능 | ❌ 없음 | ❌ 없음 |

---

## 🎯 현재 선택: 공공데이터포털 API

### ✅ 선택 이유

1. **완전 무료**: 증권계좌 없이 사용 가능
2. **공식 데이터**: 금융위원회에서 제공하는 신뢰할 수 있는 데이터
3. **간단한 설정**: 회원가입만으로 API 키 발급
4. **프로토타입에 적합**: 일 1회 갱신으로도 충분

### ⚠️ 제약사항

1. **실시간 데이터 아님**: 전일 종가 기준 (일 1회 갱신)
2. **CORS 문제**: 브라우저에서 직접 호출 시 발생 가능
3. **제한된 데이터**: 호가, 체결 등 상세 데이터 없음

---

## 🔄 대안 API 추천

### Option 1: Yahoo Finance (yfinance) - 추천! ⭐⭐⭐⭐⭐

**장점:**
- ✅ 완전 무료, 계좌 불필요
- ✅ 한국 주식 지원 (005930.KS 형식)
- ✅ Python/JavaScript 라이브러리 풍부
- ✅ 역사적 데이터, 재무제표, 뉴스까지 제공
- ✅ CORS 문제 적음 (프록시 서버 구축 가능)

**단점:**
- ⚠️ 15분 지연 데이터 (실시간 아님)
- ⚠️ 비공식 API (Yahoo Finance가 중단할 수 있음)

**사용 예시:**
```python
# Python
import yfinance as yf
samsung = yf.Ticker("005930.KS")
samsung.info  # 기업 정보
samsung.history(period="1y")  # 1년 주가 데이터
```

```javascript
// JavaScript (yahoo-finance2)
const yahooFinance = require('yahoo-finance2').default;
const result = await yahooFinance.quote('005930.KS');
```

### Option 2: 한국투자증권 API - 실시간 필요 시

**장점:**
- ✅ 진짜 실시간 데이터 (WebSocket)
- ✅ REST API (크로스 플랫폼)
- ✅ 주문 기능까지 가능
- ✅ 공식 API, 지속적 지원

**단점:**
- ❌ 증권계좌 개설 필수
- ❌ 설정 복잡 (AppKey, AppSecret 발급)
- ⚠️ 초보자에게 어려움

**추천 시나리오:**
- 실제 자동매매 시스템 구축
- 실시간 시세가 필수적인 경우

### Option 3: 네이버 금융 크롤링 - 비추천

**장점:**
- ✅ 무료, 계좌 불필요
- ✅ 풍부한 데이터 (뉴스, 재무제표 등)

**단점:**
- ❌ 백엔드 서버 필수 (CORS)
- ❌ 웹페이지 구조 변경 시 작동 중단
- ❌ 법적 그레이존 (robots.txt 확인 필요)
- ❌ Rate Limiting 가능성

---

## 💡 최종 추천

### Phase 1 (현재): 공공데이터포털 ✅
- 프로토타입 단계에 적합
- 빠른 개발 가능
- 공식 데이터 사용

### Phase 2 (개선): Yahoo Finance로 마이그레이션 추천! 🌟

**이유:**
1. **더 나은 데이터**: 역사적 데이터, 재무제표, 뉴스
2. **더 쉬운 통합**: 라이브러리 풍부
3. **CORS 문제 해결**: Node.js 프록시 서버로 해결 가능
4. **글로벌 표준**: 전 세계 개발자들이 사용

**마이그레이션 계획:**
```
1. Node.js Express 백엔드 서버 구축
2. yahoo-finance2 패키지 설치
3. /api/stocks/:ticker 엔드포인트 생성
4. 프론트엔드에서 백엔드 API 호출
```

### Phase 3 (고급): 한국투자증권 API
- 실시간 데이터가 필수인 경우
- 실제 거래 기능 추가 시

---

## 🚀 현재 프로젝트 상태

**구현됨:**
- ✅ 공공데이터포털 API 연동
- ✅ 샘플 데이터 폴백
- ✅ 에러 핸들링

**다음 단계 (선택사항):**
- [ ] Yahoo Finance API로 변경 (추천!)
- [ ] Node.js 백엔드 서버 추가
- [ ] 실시간 시세 업데이트 (WebSocket)

---

## 📝 결론

**현재 공공데이터포털 API는 프로토타입에 최선의 선택입니다.**

하지만 **프로덕션 단계**에서는:
1. **Yahoo Finance + Node.js 백엔드** (추천!)
2. 또는 **한국투자증권 API** (실시간 필요 시)

로 전환하는 것을 권장합니다.
